{% extends "base.html" %}
{% block title %}Goals | GirlMath{% endblock %}
{% block header %}Financial Goals ğŸ¯{% endblock %}

{% block content %}
<section class="summary">
  <h3>Your Goals</h3>
  <p>Track your progress and stay motivated ğŸ’ª</p>
</section>

<section class="goals-container">
  {% if goals %}
    {% for goal in goals %}
      <div class="goal-card">
        <h3>{{ goal.name }}</h3>
        <p>Saved ${{ "%.2f"|format(goal.saved) }} of ${{ "%.2f"|format(goal.target) }}</p>
        <div class="progress-bar">
          <div class="progress" style="width: {{ goal.progress() }}%"></div>
        </div>

        <form action="{{ url_for('update_goal', id=goal.id) }}" method="POST">
          <input 
            type="number" 
            step="0.01" 
            name="saved_amount" 
            placeholder="Update saved amount"
            value="{{ goal.saved }}"
            required>
          <button type="submit">Update ğŸ’¾</button>
        </form>

        <a href="{{ url_for('delete_goal', id=goal.id) }}" class="delete-btn">Delete âŒ</a>
      </div>
    {% endfor %}
  {% else %}
    <p class="no-goals">No goals added yet â€” dream big, babe ğŸ’•</p>
  {% endif %}
</section>

<section class="form-card">
  <h3>Add a New Goal âœ¨</h3>
  <form action="{{ url_for('goals') }}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <input type="text" name="goal_name" placeholder="Goal name" required>
    <input type="number" step="0.01" name="target_amount" placeholder="Target amount" required>
    <button type="submit">Add Goal</button>
  </form>
</section>
{% endblock %}