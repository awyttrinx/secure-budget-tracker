{% extends "base.html" %}
{% block title %}Analytics | GirlMath{% endblock %}
{% block header %}Spending Analytics ðŸ“Š{% endblock %}

{% block head_scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<section class="summary">
  <h3>Spending Overview</h3>
  <p>Visualize your spending patterns and track where your money flows ðŸ’¡</p>
</section>

<section class="analytics-card">
  <canvas id="spendingChart" width="400" height="200"></canvas>
</section>

<script>
  const ctx = document.getElementById('spendingChart');
  const chart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: [{% for t in transactions %}'{{ t.description }}',{% endfor %}],
      datasets: [{
        data: [{% for t in transactions %}{{ t.amount }},{% endfor %}],
        backgroundColor: ['#c98f86', '#e8dcd2', '#b26b67', '#f2b5a7', '#e2c3b7'],
        borderWidth: 1,
        borderColor: '#faf6f4'
      }]
    },
    options: {
      plugins: {
        legend: {
          labels: {
            color: '#6d4b47',
            font: { family: "Poppins", size: 14 }
          }
        }
      },
      responsive: true,
      maintainAspectRatio: false
    }
  });
</script>
{% endblock %}